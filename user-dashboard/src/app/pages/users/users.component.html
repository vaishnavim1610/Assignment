<div class="p-6">
  <h1 class="text-4xl font-bold mb-4">Users List</h1>

  <div class="flex gap-4 mb-4">
    <input type="text" [(ngModel)]="searchTerm" (input)="applyFilters()"
           placeholder="Search by name or email" class="border p-2 rounded w-1/2">
    <select [(ngModel)]="sortField" (change)="applyFilters()" class="border p-2 rounded">
      <option value="name">Sort by Name</option>
      <option value="date">Sort by Date</option>
    </select>
  </div>

  <table class="w-full border">
    <thead class="bg-gray-100">
      <tr>
        <th class="p-2">Avatar</th>
        <th class="p-2">Name</th>
        <th class="p-2">Email</th>
        <th class="p-2">Created At</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let u of paginatedUsers" class="border-t ">
        <td class="p-2 flex justify-center"><img [src]="u.avatar || 'https://via.placeholder.com/40'" class="w-10 h-10 rounded-full" /></td>
        <td class="p-2">{{ u.name }}</td>
        <td class="p-2">{{ u.email }}</td>
        <td class="p-2">{{ u.createdAt | date:'mediumDate' }}</td>
      </tr>
    </tbody>
  </table>

  <div class="flex justify-center gap-2 mt-4">
  <button (click)="changePage(page-1)" [disabled]="page===1"
          class="px-3 py-1 border rounded">Prev</button>

  <button *ngFor="let p of pagesArray"
          (click)="changePage(p)"
          [class.bg-blue-500]="page===p"
          class="px-3 py-1 border rounded">
    {{ p }}
  </button>

  <button (click)="changePage(page+1)" [disabled]="page >= totalPages"
          class="px-3 py-1 border rounded">Next</button>
</div>
</div>
